import{h as v,i as q,j as U}from"./chunk-LSOMJT2L.js";import{a as j,b,c as M,d as P,e as N,f as S,g as A,h as G,i as L,j as D}from"./chunk-RWN6SQRS.js";import{d as I,e as T,i as k,j as R,k as V}from"./chunk-B2VK3C6H.js";import{a as B}from"./chunk-3PBY3OAK.js";import{Na as x,Pa as F,Ta as h,Xa as n,Y as y,Ya as e,Za as f,cb as _,mb as o,nb as d,ob as w,pb as E,qb as C,ub as a,vb as l,ya as t,za as c}from"./chunk-TBNCL6HU.js";function z(r,s){r&1&&(n(0,"span",11),o(1),a(2,"translate"),e()),r&2&&(t(),d(l(2,1,"login.valid1")))}function H(r,s){r&1&&(n(0,"span",11),o(1),a(2,"translate"),e()),r&2&&(t(),d(l(2,1,"login.valid2")))}var ne=(()=>{let s=class s{constructor(u,m,i,p){this.router=u,this._api=m,this.messageService=i,this.translate=p,this.loginForm=new N({email:new S("",b.required),userPassword:new S("",b.required)})}submit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched(),this.messageService.add({severity:"error",summary:this.translate.instant("toast.error"),detail:this.translate.instant("toast.error1")});return}let u=this.loginForm.get("email")?.value,m=this.loginForm.get("userPassword")?.value;this._api.getUserByEmail(u).subscribe(i=>{i.length>0&&i[0].password===m?(this.router.navigate(["AllFilms/movies"]),this._api.login()):this.messageService.add({severity:"error",summary:this.translate.instant("toast.error"),detail:this.translate.instant("toast.error1")})})}};s.\u0275fac=function(m){return new(m||s)(c(I),c(B),c(v),c(k))},s.\u0275cmp=y({type:s,selectors:[["app-login"]],standalone:!0,features:[E([v]),C],decls:33,vars:21,consts:[[1,"w-full","relative","flex"],[1,"absolute","top-[36%]","left-[4%]","md:left-[13%]","w-[90%]","md:w-3/4","lg:static","my-auto","space-y-6","text-center"],[1,"flex","flex-col","space-y-2"],[1,"text-2xl","md:text-4xl","font-bold","mt-4"],[1,"flex","justify-center","space-x-2"],[1,"text-sm"],["routerLink","/register",1,"text-[#ff0000]","text-sm","font-bold"],[1,"space-y-6","w-2/3","mx-auto","mt-2",3,"ngSubmit","formGroup"],[1,"space-y-3"],[1,"flex","justify-between","w-full"],["type","text","formControlName","email","autocomplete","userMail",1,"bg-transparent","border","border-white","rounded-md","w-2/3","text-center","outline-none"],[1,"text-[#ff0000]","font-medium"],["type","password","formControlName","userPassword","autocomplete","userPass",1,"bg-transparent","border","border-white","rounded-md","w-2/3","text-center","outline-none"],["type","submit",1,"border","border-[#ff0000]","py-2","rounded-xl","w-full","hover:border-red-700","hover:bg-[#ff0000]","duration-300"],[1,"w-full","lg:w-1/2"],["src","assets/images/4.jpg","alt","",1,"h-screen","object-cover","w-full"]],template:function(m,i){if(m&1&&(n(0,"section",0)(1,"section",1)(2,"div",2)(3,"h1",3),o(4),a(5,"translate"),e(),n(6,"article",4)(7,"p",5),o(8),a(9,"translate"),e(),n(10,"a",6),o(11),a(12,"translate"),e()()(),n(13,"form",7),_("ngSubmit",function(){return i.submit()}),n(14,"section",8)(15,"fieldset",9)(16,"span"),o(17),a(18,"translate"),e(),f(19,"input",10),e(),x(20,z,3,3,"span",11),n(21,"fieldset",9)(22,"span"),o(23),a(24,"translate"),e(),f(25,"input",12),e(),x(26,H,3,3,"span",11),e(),n(27,"button",13),o(28),a(29,"translate"),e()(),f(30,"p-toast"),e(),n(31,"figure",14),f(32,"img",15),e()()),m&2){let p,g;t(4),w(" ",l(5,9,"login.loginTittle")," "),t(4),d(l(9,11,"login.subtittle")),t(3),d(l(12,13,"register.register")),t(2),F("formGroup",i.loginForm),t(4),d(l(18,15,"register.email")),t(3),h(20,(p=i.loginForm.get("email"))!=null&&p.invalid&&((p=i.loginForm.get("email"))!=null&&p.touched)?20:-1),t(3),d(l(24,17,"register.pass")),t(3),h(26,(g=i.loginForm.get("userPassword"))!=null&&g.invalid&&((g=i.loginForm.get("userPassword"))!=null&&g.touched)?26:-1),t(2),w(" ",l(29,19,"login.loginButton")," ")}},dependencies:[D,A,j,M,P,G,L,T,V,R,U,q]});let r=s;return r})();export{ne as LoginComponent};
